
# Indexing Recipe data with embeddings onto ElasticSearch and Query Search
We need to have an Elasticsearch server running. In this code we'll use the elasticsearch Python API to access the server we started at the default setting of localhost port 9200


```python
#defining the elasticsearch mapping(schema) for our data we are going to index. We're indexing, ID, Dish (food-item-name), cuisine, diet, and recipe_embedding

from elasticsearch import Elasticsearch 
import numpy as np
import pandas as pd
import json

# we define a dense vector named recipe_embedding
# it is mandatory to spezify the dims, which is the size of your embeddings
# i've trained embeddings of size 100
newschema = { "mappings": {
    "properties": {
            "id": {
                "type": "text"
            },
            "dish": {
                "type": "keyword"
            },
            "cuisine": {
                "type": "keyword"
            },                
            "diet": {
                "type": "keyword"
            },
            "recipe_embedding": {
                "type": "dense_vector",
                "dims": 100
            }
    }
}
}

# Connecting to Elasticsearch server
es = Elasticsearch([{'host': 'localhost', 'port': 9200}])

```


```python
'''
Create index called recipedata1, specifying our mapping with body=newschema
and delete indices. 
es might show errors but still create and index, hence in order to delete a previously created index use this command below
'''
es.indices.delete(index='recipedata1', ignore=[400, 404])
es.indices.create(index="recipedata1", ignore=400, body=newschema)
```




    {'acknowledged': True, 'shards_acknowledged': True, 'index': 'recipedata1'}




```python
recipeData = pd.read_pickle("processed/df_indianRecipes.pkl")
recipeData.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TranslatedRecipeName</th>
      <th>TranslatedIngredients</th>
      <th>Cuisine</th>
      <th>Course</th>
      <th>Diet</th>
      <th>TranslatedInstructions</th>
      <th>URL</th>
      <th>clean_ingredients</th>
      <th>ingredient_count</th>
      <th>clean_instructions</th>
      <th>recipe_embedding_fasttext</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Masala Karela Recipe</td>
      <td>6 karela (bitter gourd/ pavakkai) - deseeded,s...</td>
      <td>Indian</td>
      <td>Side Dish</td>
      <td>Diabetic Friendly</td>
      <td>to begin making the masala karela recipe,de-se...</td>
      <td>https://www.archanaskitchen.com/masala-karela-...</td>
      <td>[salt, gram flmy besan, turmeric powder haldi,...</td>
      <td>8</td>
      <td>[[begin, making, masala, karela], [karela, sli...</td>
      <td>[-0.016737932, 0.35984662, -0.24503584, -0.063...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Spicy Tomato Rice (Recipe)</td>
      <td>2-1 / 2 cups rice - cooked, 3 tomatoes, 3 teas...</td>
      <td>South Indian Recipes</td>
      <td>Main Course</td>
      <td>Vegetarian</td>
      <td>to make tomato puliogere, first cut the tomato...</td>
      <td>http://www.archanaskitchen.com/spicy-tomato-ri...</td>
      <td>[tomato, bc belle bhat powder, salt, chickpea ...</td>
      <td>10</td>
      <td>[[tomato, puliogere], [cut, tomatoes, mixer, g...</td>
      <td>[0.034362823, 0.29279393, -0.15771821, -0.1977...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Ragi Semiya Upma Recipe - Ragi Millet Vermicel...</td>
      <td>1-1/2 cups rice vermicelli noodles (thin),1 on...</td>
      <td>South Indian Recipes</td>
      <td>South Indian Breakfast</td>
      <td>High Protein Vegetarian</td>
      <td>to begin making the ragi vermicelli recipe, fi...</td>
      <td>http://www.archanaskitchen.com/ragi-vermicelli...</td>
      <td>[rice vermicelli noodle thin, pea matar, chill...</td>
      <td>9</td>
      <td>[[begin, making, ragi, vermicelli], [firm, kee...</td>
      <td>[0.025006209, 0.17075203, -0.1810968, -0.09942...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Gongura Chicken Curry Recipe - Andhra Style Go...</td>
      <td>500 grams chicken,2 onion - chopped,1 tomato -...</td>
      <td>Andhra</td>
      <td>Lunch</td>
      <td>Non Vegeterian</td>
      <td>to begin making gongura chicken curry recipe f...</td>
      <td>http://www.archanaskitchen.com/gongura-chicken...</td>
      <td>[gram chicken, chilly slit, turmeric powder ha...</td>
      <td>12</td>
      <td>[[ients, aside, in, small, pan], [ium, heat], ...</td>
      <td>[0.0039616567, 0.19029821, -0.08325197, -0.147...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Andhra Style Alam Pachadi Recipe - Adrak Chutn...</td>
      <td>1 tablespoon chana dal, 1 tablespoon white ura...</td>
      <td>Andhra</td>
      <td>South Indian Breakfast</td>
      <td>Vegetarian</td>
      <td>to make andhra style alam pachadi, first heat ...</td>
      <td>https://www.archanaskitchen.com/andhra-style-a...</td>
      <td>[chana dal, white urad dal, chilly, es ginger ...</td>
      <td>11</td>
      <td>[[andhra, style, alam, pachadi], [chillies], [...</td>
      <td>[0.054038156, 0.27010298, -0.04160401, -0.1178...</td>
    </tr>
  </tbody>
</table>
</div>



# Data ingestion scripts
- Converting data to JSON like format
- Connecting to Elasticsearch server using elasticsearch python api
- Creating a new index and indexing our data


```python
'''
we have stored our file we want to index, and can read it any way we want, 
we need to convert each row of the dataframe into JSON-like, and can store it in a python list 
'''

ldocs = []
for rd in range(len(recipeData)):
    d = {}
    d['id'] = str(rd)
    try:
        d['dish'] = recipeData.loc[rd, "TranslatedRecipeName"]
        d['cuisine'] = recipeData.loc[rd, "Cuisine"]
        d['course'] = recipeData.loc[rd, "Course"]
        d['diet'] = recipeData.loc[rd, "Diet"]
        d['recipe_embedding'] = np.asarray(recipeData.loc[rd, "recipe_embedding_fasttext"]).tolist()
        ldocs.append(d)
    except:
        continue;
        
#lets take a look at one unit of data that we'll index        
ldocs[10]
```




    {'id': '10',
     'dish': 'Homemade Baked Beans Recipe (Wholesome & Healthy)',
     'cuisine': 'Fusion',
     'course': 'High Protein Vegetarian',
     'diet': 'Vegetarian',
     'recipe_embedding': [0.049339815974235535,
      0.32872918248176575,
      -0.31305208802223206,
      -0.17112325131893158,
      0.0934978649020195,
      0.09800180047750473,
      -0.2998715341091156,
      0.28196626901626587,
      -0.5770992636680603,
      0.23351401090621948,
      -0.5348120927810669,
      0.19267436861991882,
      -0.05794635787606239,
      0.4129326641559601,
      0.10796818137168884,
      -0.10654804110527039,
      -0.12820935249328613,
      0.03483714535832405,
      -0.020380768924951553,
      -0.42462727427482605,
      -0.41584455966949463,
      0.2003045231103897,
      0.3545193076133728,
      -0.18771299719810486,
      -0.2513600289821625,
      0.15992297232151031,
      -0.22670400142669678,
      -0.019776202738285065,
      0.19192668795585632,
      -0.042548999190330505,
      0.1867438405752182,
      0.16027028858661652,
      -0.09517163038253784,
      0.006797747686505318,
      -0.01669739931821823,
      0.20013943314552307,
      -0.17248660326004028,
      -0.13415402173995972,
      0.17083966732025146,
      0.025605421513319016,
      -0.2979467809200287,
      0.1858171969652176,
      0.1693858504295349,
      -0.02859245426952839,
      0.20649118721485138,
      -0.14025840163230896,
      0.2604093551635742,
      0.10771714150905609,
      -0.11151810735464096,
      -0.17571040987968445,
      0.43226468563079834,
      -0.19569870829582214,
      0.5147700309753418,
      -0.19779561460018158,
      0.32060062885284424,
      0.2941311001777649,
      0.08937720954418182,
      0.23362994194030762,
      0.10015092045068741,
      0.3533534109592438,
      -0.13741588592529297,
      -0.22264894843101501,
      0.1298559010028839,
      -0.1992778182029724,
      -0.536672055721283,
      0.33576613664627075,
      -0.13522078096866608,
      0.09514942765235901,
      0.06437665969133377,
      -0.3427252471446991,
      -0.1393563151359558,
      -0.27329131960868835,
      -0.06177587807178497,
      -0.015189649537205696,
      -0.3126831650733948,
      0.17215505242347717,
      0.014496458694338799,
      0.03766109049320221,
      0.21112269163131714,
      0.14174361526966095,
      -0.052564751356840134,
      0.1310538649559021,
      -0.3148954510688782,
      0.1922604888677597,
      0.0297695305198431,
      0.08802853524684906,
      -0.1502976417541504,
      0.21462829411029816,
      -0.3659142851829529,
      0.2590824067592621,
      0.18875153362751007,
      0.19951674342155457,
      0.09703008830547333,
      0.03894682973623276,
      0.19409745931625366,
      -0.3304067850112915,
      0.1739155352115631,
      0.2822442650794983,
      0.28337058424949646,
      0.0847206637263298]}




```python
'''
Indexing all documents into the specific
'''

#indexing documents inside ldocs
for doc in ldocs:
    es.index(index='recipedata1', id=doc["id"], body=json.dumps(doc))
```


```python
'''
Doing a clear search on our created index
'''
es.search(index="recipedata1", body={})
```




    {'took': 5,
     'timed_out': False,
     '_shards': {'total': 1, 'successful': 1, 'skipped': 0, 'failed': 0},
     'hits': {'total': {'value': 2915, 'relation': 'eq'},
      'max_score': 1.0,
      'hits': [{'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '0',
        '_score': 1.0,
        '_source': {'id': '0',
         'dish': 'Masala Karela Recipe',
         'cuisine': 'Indian',
         'course': 'Side Dish',
         'diet': 'Diabetic Friendly',
         'recipe_embedding': [-0.016737932339310646,
          0.3598466217517853,
          -0.24503584206104279,
          -0.06312741339206696,
          0.04885884374380112,
          -0.06961071491241455,
          -0.3705177307128906,
          0.05110880732536316,
          -0.45738348364830017,
          0.26189756393432617,
          -0.596495509147644,
          0.2606188952922821,
          -0.14178690314292908,
          0.22382326424121857,
          -0.0400623083114624,
          -0.1123562902212143,
          -0.06315835565328598,
          0.08911527693271637,
          -0.03258634731173515,
          -0.3037600517272949,
          -0.26784056425094604,
          0.2981070578098297,
          0.25368908047676086,
          -0.4106239676475525,
          -0.2534194588661194,
          0.1983828991651535,
          -0.4676317572593689,
          -0.063877172768116,
          0.05586930364370346,
          -0.22860808670520782,
          0.19312958419322968,
          0.08794943988323212,
          -0.06932149827480316,
          0.06408722698688507,
          0.09600633382797241,
          0.20279879868030548,
          -0.1986318826675415,
          0.028433192521333694,
          0.18579143285751343,
          0.19210462272167206,
          -0.20329749584197998,
          0.2255018949508667,
          0.12473114579916,
          -0.2512606978416443,
          0.19488093256950378,
          -0.006932839751243591,
          0.16250860691070557,
          0.2002493143081665,
          0.2400384396314621,
          -0.024787435308098793,
          0.49628639221191406,
          -0.26281675696372986,
          0.4156404435634613,
          -0.26015788316726685,
          0.17861971259117126,
          0.33505287766456604,
          0.11308123916387558,
          0.4294114112854004,
          0.0056274100206792355,
          0.35320764780044556,
          -0.21159549057483673,
          -0.030917366966605186,
          0.15401209890842438,
          -0.18818607926368713,
          -0.5642772912979126,
          0.1408902257680893,
          -0.2503810226917267,
          -0.0073918988928198814,
          -0.08223406970500946,
          -0.29155784845352173,
          -0.241045281291008,
          -0.07065355777740479,
          -0.11063096672296524,
          -0.14526322484016418,
          -0.2960449457168579,
          0.32954761385917664,
          0.03624924272298813,
          -0.0662846788764,
          0.3193173408508301,
          0.361581027507782,
          -0.0433228574693203,
          0.09808328002691269,
          -0.41777491569519043,
          0.2444957196712494,
          0.05899374559521675,
          -0.10328223556280136,
          -0.12063975632190704,
          0.32779115438461304,
          -0.26691144704818726,
          0.26804354786872864,
          -0.04968031123280525,
          0.18077901005744934,
          0.14820344746112823,
          0.01689647138118744,
          0.15688374638557434,
          -0.11431634426116943,
          0.1914483904838562,
          0.2820788323879242,
          0.4185883104801178,
          0.15019424259662628]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '1',
        '_score': 1.0,
        '_source': {'id': '1',
         'dish': 'Spicy Tomato Rice (Recipe)',
         'cuisine': 'South Indian Recipes',
         'course': 'Main Course',
         'diet': 'Vegetarian',
         'recipe_embedding': [0.03436282277107239,
          0.2927939295768738,
          -0.1577182114124298,
          -0.19772212207317352,
          0.08219505101442337,
          0.13202150166034698,
          -0.22212162613868713,
          0.316211462020874,
          -0.5153365135192871,
          0.2866249680519104,
          -0.4951937198638916,
          0.1641603410243988,
          0.003666496369987726,
          0.39995309710502625,
          0.0829615592956543,
          -0.14438442885875702,
          -0.038126807659864426,
          0.027288785204291344,
          -0.18636658787727356,
          -0.2018447369337082,
          -0.38192427158355713,
          0.15053199231624603,
          0.24684444069862366,
          -0.3221815526485443,
          -0.11887454986572266,
          0.17909784615039825,
          -0.41850557923316956,
          -0.0719347670674324,
          0.18678250908851624,
          -0.30312463641166687,
          0.10618217289447784,
          0.1584719866514206,
          -0.23577842116355896,
          0.024037327617406845,
          0.061668895184993744,
          0.31224340200424194,
          -0.19044193625450134,
          -0.1871597021818161,
          0.21483059227466583,
          0.2997361421585083,
          -0.2606583535671234,
          0.14646244049072266,
          0.12697698175907135,
          -0.29131221771240234,
          0.22393813729286194,
          -0.041762758046388626,
          0.2089787721633911,
          0.10435552895069122,
          0.20470523834228516,
          -0.06662602722644806,
          0.34515470266342163,
          -0.216466024518013,
          0.4051114618778229,
          -0.31601160764694214,
          0.1083175390958786,
          0.3485507369041443,
          0.09638186544179916,
          0.2872273027896881,
          -0.06198647618293762,
          0.36951905488967896,
          -0.03120742179453373,
          -0.007902485318481922,
          0.1657823622226715,
          -0.20223799347877502,
          -0.520563542842865,
          0.1346692591905594,
          -0.1858564168214798,
          -0.07089342176914215,
          -0.073561891913414,
          -0.3208090364933014,
          -0.2628942131996155,
          -0.25345826148986816,
          -0.23360998928546906,
          -0.06800664216279984,
          -0.31862178444862366,
          0.13109661638736725,
          -0.02435089461505413,
          -0.050575487315654755,
          0.23772184550762177,
          0.47782644629478455,
          -0.10453090816736221,
          0.20443932712078094,
          -0.6023682951927185,
          0.26439616084098816,
          -0.07980438321828842,
          0.04700952023267746,
          -0.02225637063384056,
          0.3180391192436218,
          -0.1966918706893921,
          0.2542206645011902,
          0.14889097213745117,
          0.05273524671792984,
          0.09908581525087357,
          -0.023471225053071976,
          0.25613728165626526,
          -0.11892254650592804,
          0.1962207853794098,
          0.36833199858665466,
          0.2112027108669281,
          0.15827453136444092]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '2',
        '_score': 1.0,
        '_source': {'id': '2',
         'dish': 'Ragi Semiya Upma Recipe - Ragi Millet Vermicelli Breakfast',
         'cuisine': 'South Indian Recipes',
         'course': 'South Indian Breakfast',
         'diet': 'High Protein Vegetarian',
         'recipe_embedding': [0.025006208568811417,
          0.17075203359127045,
          -0.18109680712223053,
          -0.09942461550235748,
          -0.008033476769924164,
          0.07406207919120789,
          -0.22151809930801392,
          0.19248181581497192,
          -0.3900911211967468,
          0.2127114087343216,
          -0.4533463418483734,
          0.2186468541622162,
          -0.07002375274896622,
          0.3058580756187439,
          0.0963514968752861,
          -0.2604810297489166,
          -0.09446997940540314,
          -0.003981353715062141,
          -0.18569937348365784,
          -0.2802497446537018,
          -0.38711240887641907,
          0.2079593390226364,
          0.21985049545764923,
          -0.2444879561662674,
          -0.10063385963439941,
          0.1541111022233963,
          -0.35262763500213623,
          -0.07725480943918228,
          0.11728107929229736,
          -0.24091920256614685,
          0.11677686870098114,
          0.056382954120635986,
          -0.22932228446006775,
          -0.01932564377784729,
          -0.11926839500665665,
          0.3097492754459381,
          -0.2546653151512146,
          -0.07474500685930252,
          0.18228605389595032,
          0.21899262070655823,
          -0.304964542388916,
          0.20177797973155975,
          0.18853576481342316,
          -0.19503986835479736,
          0.10921800136566162,
          -0.011763397604227066,
          0.16292639076709747,
          0.06546539068222046,
          0.038200292736291885,
          -0.09368504583835602,
          0.3415829539299011,
          -0.2049739509820938,
          0.30972570180892944,
          -0.2500007152557373,
          0.22209158539772034,
          0.22437669336795807,
          0.1215774342417717,
          0.32783952355384827,
          -0.061835337430238724,
          0.32860952615737915,
          0.013172720558941364,
          -0.07512550801038742,
          0.07120023667812347,
          -0.2388882339000702,
          -0.5749176740646362,
          0.10668747127056122,
          -0.15164749324321747,
          -0.007124146446585655,
          -0.08295568078756332,
          -0.4432954490184784,
          -0.26581868529319763,
          -0.27555808424949646,
          -0.27508142590522766,
          0.007413795217871666,
          -0.33578363060951233,
          0.2209641933441162,
          0.0013973414897918701,
          0.013534283265471458,
          0.1392507553100586,
          0.3114835023880005,
          -0.11385081708431244,
          0.12216607481241226,
          -0.3919772207736969,
          0.35127517580986023,
          -0.04717833548784256,
          0.023028042167425156,
          -0.045123979449272156,
          0.24091343581676483,
          -0.24693143367767334,
          0.32627537846565247,
          0.22532980144023895,
          0.0673832893371582,
          0.17299827933311462,
          0.046637922525405884,
          0.26330921053886414,
          -0.1941385567188263,
          0.26904061436653137,
          0.24017253518104553,
          0.21417008340358734,
          -0.004131853114813566]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '3',
        '_score': 1.0,
        '_source': {'id': '3',
         'dish': 'Gongura Chicken Curry Recipe - Andhra Style Gongura Chicken',
         'cuisine': 'Andhra',
         'course': 'Lunch',
         'diet': 'Non Vegeterian',
         'recipe_embedding': [0.003961656708270311,
          0.19029821455478668,
          -0.0832519680261612,
          -0.14789120852947235,
          0.056227147579193115,
          0.11227917671203613,
          -0.28775477409362793,
          0.3239199221134186,
          -0.4924200773239136,
          0.23123681545257568,
          -0.5495142936706543,
          0.304158478975296,
          -0.006119005847722292,
          0.3781087398529053,
          0.06646915525197983,
          -0.20340418815612793,
          -0.06626806408166885,
          -0.007938782684504986,
          -0.046227335929870605,
          -0.27623963356018066,
          -0.4222332537174225,
          0.27412524819374084,
          0.25444266200065613,
          -0.27182477712631226,
          -0.1821662187576294,
          0.2664779722690582,
          -0.38744184374809265,
          0.003113203914836049,
          0.13349774479866028,
          -0.3124483525753021,
          0.1092183068394661,
          0.09611403942108154,
          -0.16911174356937408,
          -0.029843369498848915,
          0.0013422444462776184,
          0.29717010259628296,
          -0.3246801197528839,
          -0.09315308928489685,
          0.18559427559375763,
          0.16472145915031433,
          -0.3299114406108856,
          0.1445852369070053,
          0.24651490151882172,
          -0.10921517759561539,
          0.20272964239120483,
          -0.1268458068370819,
          0.1384793370962143,
          0.13703306019306183,
          0.10133731365203857,
          -0.12563806772232056,
          0.3896985948085785,
          -0.22616712749004364,
          0.42677581310272217,
          -0.31246331334114075,
          0.14243678748607635,
          0.3102090060710907,
          0.0030671146232634783,
          0.2379911094903946,
          0.06547581404447556,
          0.3262806832790375,
          -0.07637127488851547,
          -0.05329906940460205,
          0.0620601661503315,
          -0.18345509469509125,
          -0.5809163451194763,
          0.2560175061225891,
          -0.19744712114334106,
          -0.02399618737399578,
          -0.09215223789215088,
          -0.424235463142395,
          -0.3207361400127411,
          -0.14269065856933594,
          -0.3395735025405884,
          -0.1099434494972229,
          -0.4256642162799835,
          0.20894984900951385,
          0.0027496691327542067,
          -0.011675353161990643,
          0.28862830996513367,
          0.30518391728401184,
          -0.034629274159669876,
          0.11019978672266006,
          -0.41092702746391296,
          0.17741316556930542,
          0.07166796177625656,
          0.07174497097730637,
          -0.02054867334663868,
          0.3494248688220978,
          -0.24966448545455933,
          0.3910675048828125,
          0.1891792267560959,
          -0.014882408082485199,
          0.1672462373971939,
          0.09941649436950684,
          0.14831002056598663,
          -0.11877444386482239,
          0.2147597074508667,
          0.2365068793296814,
          0.26974886655807495,
          0.05395868048071861]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '4',
        '_score': 1.0,
        '_source': {'id': '4',
         'dish': 'Andhra Style Alam Pachadi Recipe - Adrak Chutney (Recipe)',
         'cuisine': 'Andhra',
         'course': 'South Indian Breakfast',
         'diet': 'Vegetarian',
         'recipe_embedding': [0.054038155823946,
          0.27010297775268555,
          -0.04160400852560997,
          -0.11789102107286453,
          0.09792604297399521,
          0.16987928748130798,
          -0.220982626080513,
          0.2980552315711975,
          -0.508147656917572,
          0.3236439824104309,
          -0.5031394362449646,
          0.2571168839931488,
          0.03052518144249916,
          0.32938697934150696,
          0.058608464896678925,
          -0.18988443911075592,
          -0.1267823576927185,
          0.023537082597613335,
          -0.17187343537807465,
          -0.2170238345861435,
          -0.348529577255249,
          0.21223676204681396,
          0.2712899446487427,
          -0.39450332522392273,
          -0.16378872096538544,
          0.2340184450149536,
          -0.48246437311172485,
          -0.04610171169042587,
          0.144556924700737,
          -0.3044869005680084,
          0.052422378212213516,
          0.12827447056770325,
          -0.18382109701633453,
          -0.08836982399225235,
          0.09154253453016281,
          0.3360499441623688,
          -0.2580607533454895,
          -0.18472932279109955,
          0.18286244571208954,
          0.25694331526756287,
          -0.29736366868019104,
          0.05333646759390831,
          0.12671755254268646,
          -0.2996542453765869,
          0.337090402841568,
          -0.052371155470609665,
          0.1853630244731903,
          0.167901411652565,
          0.25057321786880493,
          -0.12632952630519867,
          0.42118340730667114,
          -0.17568369209766388,
          0.4284391403198242,
          -0.3792338967323303,
          0.14009995758533478,
          0.39671286940574646,
          0.08387763798236847,
          0.26130160689353943,
          -0.053825896233320236,
          0.3746650815010071,
          -0.013643345795571804,
          -0.05450957268476486,
          0.045902278274297714,
          -0.12635962665081024,
          -0.5534306168556213,
          0.18512897193431854,
          -0.20688393712043762,
          -0.08083909749984741,
          -0.16589157283306122,
          -0.312581866979599,
          -0.33100324869155884,
          -0.25499626994132996,
          -0.31014102697372437,
          -0.023321028798818588,
          -0.3803219199180603,
          0.26691001653671265,
          -0.016710534691810608,
          -0.08586599677801132,
          0.33530446887016296,
          0.46374139189720154,
          -0.13024120032787323,
          0.20295405387878418,
          -0.5581297278404236,
          0.26841816306114197,
          -0.0043575759045779705,
          0.014209303073585033,
          -0.014261635951697826,
          0.38760122656822205,
          -0.19229701161384583,
          0.34130430221557617,
          0.16825632750988007,
          0.029644349589943886,
          0.07077207416296005,
          -0.004395036958158016,
          0.16543230414390564,
          -0.009145292453467846,
          0.2697513699531555,
          0.36356163024902344,
          0.2660134732723236,
          0.06631500273942947]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '5',
        '_score': 1.0,
        '_source': {'id': '5',
         'dish': 'Pudina Khara Pongal Recipe (Rice and Lentils Cooked With Mint Leaves & Mild Spices)',
         'cuisine': 'South Indian Recipes',
         'course': 'South Indian Breakfast',
         'diet': 'High Protein Vegetarian',
         'recipe_embedding': [-0.027802428230643272,
          0.2761363089084625,
          -0.10123337805271149,
          -0.06712545454502106,
          0.18714676797389984,
          0.02500806376338005,
          -0.33916762471199036,
          0.09311354905366898,
          -0.3909675180912018,
          0.24158503115177155,
          -0.3517821729183197,
          0.2158372402191162,
          -0.010425835847854614,
          0.3849213421344757,
          -0.0337873138487339,
          -0.22019849717617035,
          -0.029945122078061104,
          0.14260712265968323,
          -0.08594996482133865,
          -0.33762645721435547,
          -0.30239948630332947,
          0.1514705866575241,
          0.18916429579257965,
          -0.3047272264957428,
          -0.21719110012054443,
          0.14575867354869843,
          -0.42842283844947815,
          -0.030319958925247192,
          0.10440712422132492,
          -0.17313100397586823,
          0.16571760177612305,
          0.1548323929309845,
          -0.12642966210842133,
          -0.05303821340203285,
          0.10631280392408371,
          0.25947168469429016,
          -0.27081945538520813,
          -0.01569356396794319,
          0.17161105573177338,
          0.07418976724147797,
          -0.13980035483837128,
          0.1801435500383377,
          0.058613479137420654,
          -0.3439446985721588,
          0.2535459101200104,
          0.13815294206142426,
          0.17219147086143494,
          0.16678330302238464,
          0.18314926326274872,
          -0.009859253652393818,
          0.5169631838798523,
          -0.14613525569438934,
          0.32087379693984985,
          -0.3122043311595917,
          0.23118247091770172,
          0.3215755820274353,
          0.10821270942687988,
          0.3549692928791046,
          -0.0547371506690979,
          0.32488569617271423,
          -0.19018065929412842,
          -0.10740192234516144,
          0.15987275540828705,
          -0.162948876619339,
          -0.6007769703865051,
          0.15171217918395996,
          -0.16035829484462738,
          0.07733379304409027,
          -0.20942525565624237,
          -0.42928096652030945,
          -0.2712736427783966,
          -0.2481078952550888,
          -0.20024298131465912,
          0.06239356845617294,
          -0.35512223839759827,
          0.25719180703163147,
          -0.18672071397304535,
          -0.061283860355615616,
          0.35559579730033875,
          0.33968237042427063,
          -0.2672969102859497,
          0.16896720230579376,
          -0.4831482470035553,
          0.36011558771133423,
          0.07238996773958206,
          -0.06353525072336197,
          -0.09639059007167816,
          0.21005333960056305,
          -0.32351142168045044,
          0.2856511175632477,
          0.21748845279216766,
          0.18992283940315247,
          0.16065403819084167,
          -0.09708213061094284,
          0.3182118237018585,
          -0.12673614919185638,
          0.3346511721611023,
          0.2736414968967438,
          0.2716812193393707,
          0.10831061750650406]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '6',
        '_score': 1.0,
        '_source': {'id': '6',
         'dish': 'Udupi Style Ash Gourd Coconut Curry Recipe',
         'cuisine': 'Udupi',
         'course': 'Lunch',
         'diet': 'Vegetarian',
         'recipe_embedding': [0.0649806335568428,
          0.18570071458816528,
          -0.22021134197711945,
          -0.12592433393001556,
          0.08517711609601974,
          0.012182069011032581,
          -0.25078070163726807,
          0.10368634015321732,
          -0.31792962551116943,
          0.23321819305419922,
          -0.22460146248340607,
          0.14969196915626526,
          -0.05823180079460144,
          0.3512047231197357,
          0.05008068308234215,
          -0.2166597992181778,
          -0.03246377035975456,
          0.3145271837711334,
          -0.13112959265708923,
          -0.26890280842781067,
          -0.385621577501297,
          0.13270914554595947,
          0.2357916682958603,
          -0.29154276847839355,
          -0.08070243149995804,
          0.19100476801395416,
          -0.37248989939689636,
          -0.08334100991487503,
          0.1339828222990036,
          -0.15791714191436768,
          0.19381187856197357,
          0.037173911929130554,
          -0.1467430591583252,
          0.025581665337085724,
          -0.02740277163684368,
          0.22682242095470428,
          -0.12270549684762955,
          -0.07965574413537979,
          0.2175457924604416,
          0.010691138915717602,
          -0.20886744558811188,
          0.16616781055927277,
          0.13957510888576508,
          -0.2777164876461029,
          0.25424930453300476,
          0.014223451726138592,
          0.12217104434967041,
          -0.03815735876560211,
          0.13072840869426727,
          -0.10326593369245529,
          0.3815605342388153,
          -0.0029443849343806505,
          0.3790269196033478,
          -0.22813725471496582,
          0.3305821418762207,
          0.2602134943008423,
          0.14324979484081268,
          0.314225435256958,
          -0.04497136175632477,
          0.3353515863418579,
          -0.05509977415204048,
          -0.12239504605531693,
          0.1083783507347107,
          -0.17888104915618896,
          -0.6217813491821289,
          0.15960541367530823,
          -0.18878687918186188,
          0.02299644984304905,
          0.053333982825279236,
          -0.46652543544769287,
          -0.24491553008556366,
          -0.33965739607810974,
          -0.16049064695835114,
          0.14407315850257874,
          -0.29498398303985596,
          0.04319915547966957,
          -0.16197098791599274,
          -0.02825065143406391,
          0.3013162314891815,
          0.35940608382225037,
          -0.11253615468740463,
          0.1519593596458435,
          -0.41643810272216797,
          0.28222784399986267,
          -0.048509303480386734,
          0.14670442044734955,
          -0.018815571442246437,
          0.1541144698858261,
          -0.30842941999435425,
          0.2498631328344345,
          0.34732821583747864,
          0.2284117490053177,
          0.1477874219417572,
          -0.04949405416846275,
          0.2758859694004059,
          -0.15567584335803986,
          0.22022821009159088,
          0.23115289211273193,
          0.07714920490980148,
          0.049979209899902344]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '7',
        '_score': 1.0,
        '_source': {'id': '7',
         'dish': 'Mexican Style Black Bean Burrito Recipe',
         'cuisine': 'Mexican',
         'course': 'Lunch',
         'diet': 'Vegetarian',
         'recipe_embedding': [0.021719766780734062,
          0.172563835978508,
          -0.13697825372219086,
          -0.09551449120044708,
          0.18081547319889069,
          0.04507027938961983,
          -0.3537590503692627,
          0.26914986968040466,
          -0.3851390779018402,
          0.24397119879722595,
          -0.4551945626735687,
          0.1269812434911728,
          0.08784009516239166,
          0.49790439009666443,
          0.04170558601617813,
          -0.17132173478603363,
          -0.10327589511871338,
          -0.00550616392865777,
          0.024302717298269272,
          -0.23174741864204407,
          -0.3651757836341858,
          0.20254862308502197,
          0.34723740816116333,
          -0.12219852954149246,
          -0.20011058449745178,
          0.18174076080322266,
          -0.33732080459594727,
          0.026992129161953926,
          0.10386008769273758,
          -0.14582356810569763,
          0.2197212427854538,
          0.17422306537628174,
          -0.051408618688583374,
          0.021973518654704094,
          0.03543476387858391,
          0.18796060979366302,
          -0.3051932752132416,
          -0.05251973122358322,
          0.24129006266593933,
          0.04881858453154564,
          -0.29397350549697876,
          0.21382488310337067,
          0.09018765389919281,
          -0.06148594990372658,
          0.20289918780326843,
          -0.014833556488156319,
          0.1402931958436966,
          0.14080791175365448,
          0.04218310862779617,
          -0.12357281148433685,
          0.3408067524433136,
          -0.2939756512641907,
          0.4612744152545929,
          -0.2694642245769501,
          0.17763039469718933,
          0.24497349560260773,
          0.07144276052713394,
          0.19975414872169495,
          0.0516778938472271,
          0.2970748543739319,
          -0.05711381882429123,
          -0.15272805094718933,
          0.09651569277048111,
          -0.15976759791374207,
          -0.5509493350982666,
          0.3458411693572998,
          -0.19016018509864807,
          0.12969961762428284,
          -0.03353669494390488,
          -0.3647734820842743,
          -0.2860720157623291,
          -0.1503569632768631,
          -0.18173475563526154,
          0.03674083203077316,
          -0.40130823850631714,
          0.17147327959537506,
          0.016661984845995903,
          -0.024736735969781876,
          0.34265708923339844,
          0.21241383254528046,
          -0.12695157527923584,
          0.1221097931265831,
          -0.39252546429634094,
          0.31556233763694763,
          0.037348415702581406,
          0.08504903316497803,
          -0.12026035785675049,
          0.367725670337677,
          -0.32440656423568726,
          0.214980810880661,
          0.24752472341060638,
          0.14116062223911285,
          0.11084003001451492,
          -0.1321984976530075,
          0.20717152953147888,
          -0.08874408900737762,
          0.2356186807155609,
          0.24268759787082672,
          0.22848151624202728,
          0.061098337173461914]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '8',
        '_score': 1.0,
        '_source': {'id': '8',
         'dish': 'Spicy Crunchy Masala Idli Recipe',
         'cuisine': 'South Indian Recipes',
         'course': 'Snack',
         'diet': 'Vegetarian',
         'recipe_embedding': [-0.141343891620636,
          0.2999676764011383,
          -0.2719809412956238,
          -0.096547432243824,
          0.22337058186531067,
          0.009702246636152267,
          -0.38246023654937744,
          0.2015971541404724,
          -0.44659164547920227,
          0.2917969822883606,
          -0.5954866409301758,
          0.34221434593200684,
          0.009739254601299763,
          0.40940219163894653,
          0.12086199223995209,
          -0.07159629464149475,
          -0.05657900124788284,
          -0.09952309727668762,
          0.0306899044662714,
          -0.29738903045654297,
          -0.32780921459198,
          0.24107421934604645,
          0.3913663923740387,
          -0.1786150485277176,
          -0.2367061972618103,
          0.24820367991924286,
          -0.4443986415863037,
          0.07755741477012634,
          0.11556139588356018,
          -0.24912752211093903,
          0.13704925775527954,
          0.17500755190849304,
          0.020038267597556114,
          0.010499030351638794,
          0.11879948526620865,
          0.14476603269577026,
          -0.3249348998069763,
          -0.018054835498332977,
          0.2912682890892029,
          0.024813270196318626,
          -0.40129417181015015,
          0.1217665821313858,
          0.09586698561906815,
          -0.2214108258485794,
          0.1885438710451126,
          -0.1644877791404724,
          0.18067318201065063,
          0.15145491063594818,
          0.1462232768535614,
          -0.23324690759181976,
          0.33775389194488525,
          -0.2986522912979126,
          0.44092580676078796,
          -0.4588121175765991,
          0.1849815547466278,
          0.2987140417098999,
          0.04790356382727623,
          0.2955302894115448,
          0.08147075772285461,
          0.3275702893733978,
          -0.10868179053068161,
          -0.14376863837242126,
          0.08530357480049133,
          -0.25709354877471924,
          -0.6312806010246277,
          0.3674694299697876,
          -0.2040206640958786,
          0.005290494300425053,
          -0.1648041158914566,
          -0.2719450891017914,
          -0.26504042744636536,
          -0.11204540729522705,
          -0.175327330827713,
          -0.16918423771858215,
          -0.41516774892807007,
          0.25010356307029724,
          0.08745827525854111,
          -0.03331035375595093,
          0.45208221673965454,
          0.26977142691612244,
          -0.0694359540939331,
          0.22756563127040863,
          -0.5039093494415283,
          0.29691827297210693,
          0.10163859277963638,
          0.001619150280021131,
          -0.04821980372071266,
          0.4118974506855011,
          -0.32425960898399353,
          0.2073030173778534,
          0.10387608408927917,
          0.12849335372447968,
          0.20263129472732544,
          -0.12957067787647247,
          0.05761750414967537,
          -0.05903814733028412,
          0.26829952001571655,
          0.3971008360385895,
          0.276378870010376,
          0.17860472202301025]}},
       {'_index': 'recipedata1',
        '_type': '_doc',
        '_id': '9',
        '_score': 1.0,
        '_source': {'id': '9',
         'dish': 'Cauliflower Leaves Chutney (Recipe in Hindi)',
         'cuisine': 'South Indian Recipes',
         'course': 'Side Dish',
         'diet': 'Vegetarian',
         'recipe_embedding': [0.009431056678295135,
          0.2944842278957367,
          -0.07941649109125137,
          -0.13637688755989075,
          -0.008110791444778442,
          0.09789298474788666,
          -0.19631938636302948,
          0.30590206384658813,
          -0.55329430103302,
          0.29374682903289795,
          -0.5909448862075806,
          0.31133410334587097,
          -0.0544506199657917,
          0.3053025007247925,
          0.1527324616909027,
          -0.1591135710477829,
          -0.007857941091060638,
          0.049297258257865906,
          -0.10637769848108292,
          -0.21053946018218994,
          -0.40126436948776245,
          0.12133977562189102,
          0.25479060411453247,
          -0.3374386429786682,
          -0.21671423316001892,
          0.18168571591377258,
          -0.4000796377658844,
          -0.06889738142490387,
          0.1812334656715393,
          -0.30555686354637146,
          0.10960577428340912,
          0.1359928548336029,
          -0.148113414645195,
          0.01582535170018673,
          -0.045978009700775146,
          0.23047736287117004,
          -0.30251383781433105,
          -0.09175015985965729,
          0.18904897570610046,
          0.2901241183280945,
          -0.3088742196559906,
          0.14188195765018463,
          0.18658871948719025,
          -0.24269802868366241,
          0.18190857768058777,
          0.0019465849036350846,
          0.17020070552825928,
          0.04167899489402771,
          0.15862640738487244,
          -0.07592236995697021,
          0.3818313479423523,
          -0.22685737907886505,
          0.366271048784256,
          -0.35727232694625854,
          0.15066270530223846,
          0.24186918139457703,
          0.12983867526054382,
          0.37447530031204224,
          -0.054238926619291306,
          0.35724472999572754,
          -0.03130664676427841,
          -0.09622368961572647,
          0.10161137580871582,
          -0.19559867680072784,
          -0.5424880981445312,
          0.1620890200138092,
          -0.20775119960308075,
          -0.04798032343387604,
          -0.11640133708715439,
          -0.32354533672332764,
          -0.27626410126686096,
          -0.2516443133354187,
          -0.32577019929885864,
          -0.09182122349739075,
          -0.34586524963378906,
          0.2243920862674713,
          0.017682738602161407,
          0.0462646409869194,
          0.2691900432109833,
          0.3809402883052826,
          -0.13208535313606262,
          0.12684591114521027,
          -0.5273171663284302,
          0.2240733802318573,
          0.05192545801401138,
          0.03304324671626091,
          0.008418077602982521,
          0.3199206590652466,
          -0.16551484167575836,
          0.3398635685443878,
          0.2303275167942047,
          0.03379614278674126,
          0.1033070832490921,
          -0.0016835853457450867,
          0.2586793303489685,
          -0.18540452420711517,
          0.21260571479797363,
          0.36647099256515503,
          0.3088664710521698,
          0.10755980014801025]}}]}}



# dense-vector based search in ElasticSearch
We have embeddings for all dishes/food-items. Now, given a query at runtime, we have to get its *query-embedding*
The query embedding is nothing but *sentence-embedding*

The query is a sentence and we use the function *getSentenceEmbedding(sentence)* to get the query-embeddings. 
The function *getSimilarFood(query)* creates a custom query for elasticsearch using *script_score* 


```python
from gensim.models import FastText

'''
loading our previously trained model in loaded_model
'''
loaded_model = FastText.load(r'C:\Users\arnab\Documents\workspace\food\whatscooking\models\model_indianfood_fasttext.model')

'''
function that creates sentence embeddings given a language model
loaded_model has the model we trained in previous step
'''
def getSentenceEmbedding(sentence):
    countFound = 0
    embeddingList = []
    for wordx in sentence:
        try:
            vector1 = loaded_model.wv[wordx]
            #print("word",wordx, vector1[:3])
            embeddingList.append(vector1)
            countFound+=1
        except:
            continue;
    sumEmbeddings = sum(embeddingList)
    return np.true_divide(sumEmbeddings, countFound)  
'''
Custom Elasticsearch search request throughg api function
'''
def getSimilarFood(query):
    query_emb = getSentenceEmbedding(query.split())
    script_query = { "script_score": {
        "query": {"match_all": {}},
        "script": {
          "source": "cosineSimilarity(params.query_vector, 'recipe_embedding') + 1.0",
          "params": {"query_vector": query_emb}}}}
    response = es.search(index = "recipedata2", body = {"query": script_query})
    resfinal = []
    
    '''
    you can explore the response variable to figure out more, 
    but the values of the fields we need are in response['hits']['hits']
    '''
    for el in response['hits']['hits']:
        dname = el['_source']['dish']
        dishName = " ".join([w for w in dname.split() if w.lower()!='recipe'])
        resfinal.append(dishName)
    return pd.DataFrame(resfinal,columns=['Recommended Dishes!'])
```

# exploring the results 
Here we'll input ingredients (tomatoes, bread, spinach, etc) and procedures (bake, boil, fry, etc), 
and we hope to get suggested matching dishes while searching with dense embeddings in ElasticSearch


```python
getSimilarFood("flour yeast onions mozarella cheese")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recommended Dishes!</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Whole Wheat Stuffed Breadsticks</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Egg And Spinach Breakfast Pizza</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Mexican Style Vegetarian Chimichanga Recipe-De...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Garlic Crust Vegetable Pizza</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Veggie Pearl Millet Tart</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Mini Chilli Cheese Aloo Kulcha</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Whole Wheat Sun Dried Tomato Focaccia Bread | ...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Oven Crisped Burritos with Shredded Chicken</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Mushroom Quiche</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Chicken Crepe Lasagne</td>
    </tr>
  </tbody>
</table>
</div>




```python
getSimilarFood("chicken tandoori")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recommended Dishes!</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Paprika Chicken Skewers</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Baked Paneer Corn Kebab</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Chicken Tikka Taco Topped With Cheesy Garlic Mayo</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Baked Fish Crisps (Fish Fry In Oven)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Beetroot Chicken Cutlets</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Chicken Malai Kabab</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Potato Roulade</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Rosemary And Thyme Chicken</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Spicy Kiwi Salsa with Feta Cheese</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Crispy Vegetable Tempura</td>
    </tr>
  </tbody>
</table>
</div>




```python
#baked items 
getSimilarFood("flour oil bake tomato cheese olive oregano")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recommended Dishes!</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Halloumi Bruschetta with Tomato and Roasted Re...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Cheesy Vegetarian Pizza Muffins</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bloomed Potato Cheesy Muffins</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Four Cheese and Spinach Stuffed Mushrooms</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Roasted Vegetable Pasta Primavera</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Chicken Crepe Lasagne</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Cauliflower Crust Pizza With Pesto, Sundried T...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Spinach And Soya Sub Sandwich</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Mini Pita Pizza With Tahini Roasted Vegetables</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Roasted Eggplant Parmigiana</td>
    </tr>
  </tbody>
</table>
</div>




```python
#Palak=Spinach in Hindi
getSimilarFood("paneer tomatoes palak")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recommended Dishes!</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Chatpata Lobia Chaat - Healthy Black Eyed Bean...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Spicy Paneer Bhurji Pav Sandwich - Breakfast</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Oats Cheela Stuffed With Creamy Palak Paneer</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Paneer Onion Paratha</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Tofu Bhurji - Spicy Scrambled Tofu</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Stuffed Bhindi With Paneer (Recipe In Hindi)</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Bathua Aloo Paratha</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Peshawari Karahi Gosht</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Kabuli Chana &amp; Moongphali Salad</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Sweet &amp; Spicy Stuffed Paneer In Kofta Curry</td>
    </tr>
  </tbody>
</table>
</div>




```python
getSimilarFood("milk strawberry banana")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recommended Dishes!</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Chocolate Banana Smoothie Bowl</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Strawberry Smoothie Bowl with chia seeds and M...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Oreo Milkshake</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Banana And Mango Smoothie</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Peanut Butter Oat Almond Energy Bar</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Uttarakhand Style Singhal</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Banana Digestive Pudding With Pistachios</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Dragon Fruit and Rose Water Popsicle</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Spinach Dates &amp; Banana Smoothie</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Overnight Oats (No Cook Blueberry Vanilla and ...</td>
    </tr>
  </tbody>
</table>
</div>




```python
getSimilarFood("bhel puffed mix lemon")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recommended Dishes!</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Watermelon Margarita Granita</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Crunchy Carrots In Hot Dogs Buns</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Healthy Fresh Vegetable Salad Bowl with Sour Y...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sweet Potato &amp; Rosemary Crisps/ Chips</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Lemon Pudina Curry Leaf Shikanji</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Kiwi Guava Spritzer</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Spinach Watermelon Salad With Walnuts</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Spinach &amp; Apple Salad With Orange Dressing</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Strawberry Mojito</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Kiwi Basil Lemonade</td>
    </tr>
  </tbody>
</table>
</div>



# Thank you everyone!
